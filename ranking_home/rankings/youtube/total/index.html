<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title></title>
  <link rel="stylesheet" href="../../../ranking_common/common.css" />
  <link rel="stylesheet" href="table.css" />
</head>
<body>

  <header id="hdr" class="hdr">
    <div class="inner">
      <a class="brand" href="/">
        <span class="logo" aria-hidden="true"></span>
        <span class="title">なんでもランキング</span>
      </a>

      <button class="nav-toggle"
              aria-controls="drawer"
              aria-expanded="false"
              aria-label="メニューを開く"
              title="メニュー">
        <span class="bar" aria-hidden="true"></span>
        <span class="bar" aria-hidden="true"></span>
        <span class="bar" aria-hidden="true"></span>
      </button>
    </div>
  </header>

  <div class="layout">
    <main class="content">
      <div class="entrycontent">
        <div id="entrycontent_title" data-from="meta1" data-bind="title">タイトルを入力</div>
        <div id="entrycontent_date" data-from="meta2" data-bind="date">日付を入力</div>
        <div id="entrycontent_explain" data-from="meta1" data-bind="explain">説明を入力</div>
        <div class="entrycontent_headmenu">
          関連ページ
        </div>
      </div>
      
      <nav class="pager" aria-label="Pagination (top)"></nav>
      <table id="data-table">
        <thead></thead>
        <tbody></tbody>
      </table>
      <nav class="pager" aria-label="Pagination (bottom)"></nav>

      <footer class="footer">
        <small>© 2025 なんでもランキング</small>
        <nav class="footer__nav" aria-label="フッター">
          <a href="about/">このサイトについて</a>
          <a href="privacy/">プライバシー</a>
          <a href="terms/">利用規約</a>
          <a href="contact/">お問い合わせ</a>
        </nav>
      </footer>
    </main>

    <aside class="sidenav" aria-label="サイドメニュー">
    <form class="search" role="search" action="search/" method="get">
      <input name="q" type="search" placeholder="キーワードで探す" autocomplete="off" />
      <button class="btn btn--primary" type="submit">検索</button>
    </form>
    <div class="sidenav__section">
      <h2>カテゴリ</h2>
      <a href="rankings/youtube/">YouTube 音楽</a>
    </div>
    <div class="sidenav__section">
      <h2><a href="updates/">更新履歴</a></h2>
    </div>
    </aside>
  </div>

  <div id="backdrop" class="backdrop" hidden></div>
  <nav id="drawer" class="drawer" aria-label="モバイルメニュー" aria-hidden="true">
    <button class="drawer__close" aria-label="メニューを閉じる">×</button>
    <form class="search" role="search" action="search/" method="get">
      <input name="q" type="search" placeholder="キーワードで探す" autocomplete="off" />
      <button class="btn btn--primary" type="submit">検索</button>
    </form>
    <div class="sidenav__section">
      <h2>カテゴリ</h2>
      <a href="rankings/youtube/">YouTube 音楽</a>
    </div>
    <div class="sidenav__section">
      <h2><a href="updates/">更新履歴</a></h2>
    </div>
  </nav>

  <script>
    // 1) どのJSが読み込まれたか名乗らせる
    (function(){
      const _d=document.createElement;
      Document.prototype.createElement = function(tag){
        const el = _d.call(this, tag);
        if (tag === 'script') {
          const set = Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype, 'src').set;
          Object.defineProperty(el, 'src', {
            set(v){ console.log('[SCRIPT] load:', v); set.call(this, v); },
            get(){ return this.getAttribute('src'); }
          });
        }
        return el;
      };
    })();

    // 2) fetchの呼び出し元とURLを全てログる
    (function(){
      const orig = window.fetch;
      window.fetch = function(input, init){
        const url = (input && input.url) || input;
        console.log('[fetch]', url, '\n', new Error().stack.split('\n').slice(1,6).join('\n'));
        return orig.apply(this, arguments);
      };
    })();
  </script>

  <script defer src="../../../ranking_common/common.js"></script>
  <script defer src="meta.js"></script>
  <script defer src="table.js"></script>
  <script defer src="pager.js"></script>
  
</body>
</html>
